
{%- from "../_macros/svgs/loading-circles.njk" import loadingcirclessvg -%}

{% macro contactform(params) %}

  <form id="contactForm" class="form contact-form nes-form nes-container is-dark with-title" method="post">
    <h3 class="title">{{ params.title }}</h3>
    <fieldset class="nes-field">
      <label for="name">Name</label>
      <input placeholder="John Doe" name="name" type="text" required autofocus autocomplete="name" class="nes-input is-dark nes-pointer">
    </fieldset>
    <fieldset class="nes-field">
      <label for="email">Email</label>
      <input placeholder="john.doe@gmail.com" name="email" type="email" required autocomplete="email" class="nes-input is-dark nes-pointer">
    </fieldset>
    <fieldset class="nes-field">
      <label for="subject">Enquiry type</label>
      <input placeholder="Just saying hi" name="subject" type="text" required class="nes-input is-dark nes-pointer">
    </fieldset>
    <fieldset class="nes-field">
      <label for="message">Message</label>
      <textarea placeholder="Hello!" rows="6" name="message" required class="nes-input is-dark nes-pointer"></textarea>
    </fieldset>
    <fieldset class="fax-number">
      <label for="faxnumber">Fax Nnmber</label>
      <input placeholder="Fax number..." name="faxnumber" type="text" autocomplete="off" class="nes-input fax-number is-dark nes-pointer"></input>
    </fieldset>
    <fieldset class="nes-field">
      <button name="submit" type="submit" id="contact-form-submit" data-submit="...Sending" class="nes-btn is-dark nes-pointer">Submit</button>
    </fieldset>
    <fieldset class="nes-field">
      <progress id="contactFormProgressBar" class="nes-progress" value="0" max="100"></progress>
    </fieldset>

    {{ loadingcirclessvg({
      width: '150',
      height: '150',
      colour: '#33ced8'
    }) }}

  </form>

  <div id="contactFormStatusMessage" class="contact-form__status-message">
    <p></p>
  </div>

  <style>
  .fax-number, input[name="faxnumber"] {
    display: inline;
    position: absolute;
    overflow: hidden;
    height: 0 !important;
    width: 0 !important;
    padding: 0px;
    margin: 0px;
    border: none;
  }
  .contact-form__status-message {
    display: none;
    border: 1px solid;
    padding: 10px;
    color: #fff;
    z-index: 1;
    margin-bottom: 30px;
    background: rgba(33,37,41,0.75);
  }
  .contact-form__status-message p {
    font-family: 'Press Start 2P', cursive;
    font-size: 12px;
    color: inherit;
    margin: 0px;
  }
  .contact-form__status-message.active {
    display: block;
  }
  .contact-form__status-message.success {
    border-color: #33ced8;
    color: #33ced8;
  }
  .contact-form__status-message.error {
    border-color: rgb(233 67 111 / 75%);
    color: rgb(233 67 111 / 75%);
  }
  .contact-form.nes-form {
    position: relative;
    display: block;
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    background-color: #212529;
    padding: 1rem;
    margin: 60px 0 30px;
    border-color: #ffffff;
    min-width: 500px;
  }
  @media(max-width: 767px) {
    .contact-form.nes-form {
      min-width: auto;
      min-width: calc(100% - 15px);
    }
  }
  .contact-form.nes-form.nes-container.with-title>.title {
    margin: -40px 0 1rem;
    font-size: 1rem;
    padding: .5rem .75rem;
    color: #fff;
    text-align: center;
    font-family: 'Press Start 2P', cursive;
    font-size: 12px;
  }
  .contact-form.nes-form fieldset {
    display: block;
    width: 90%;
    margin-bottom: 20px;
  }
  .contact-form.nes-form input, .contact-form.nes-form textarea, .contact-form.nes-form label {
    font-family: 'Press Start 2P', cursive;
    font-size: 12px;
  }
   .contact-form.nes-form .nes-input.success {
    border-color: #60af73;
    color: #60af73;
    border-image-source: none;
    border-radius: 4px;
   }
  .contact-form.nes-form label {
    color: #fff;
  }
  .contact-form.nes-form .nes-btn {
    font-family: 'Press Start 2P', cursive;
    font-size: 12px;
    background: rgb(233 67 111 / 75%);
    color: #fff;
  }
  .contact-form.nes-form .nes-btn:after {
    box-shadow: inset -4px -4px #bb244c;
  }
  .contact-form.nes-form .nes-progress {
    height: 20px;
  }
  .contact-form.nes-form .nes-progress::-webkit-progress-bar {
    background-color: #c6bbbb;
  }
  .contact-form.nes-form .nes-progress::-webkit-progress-value {
    background: #60af73;
  }
  </style>

{% endmacro %}
